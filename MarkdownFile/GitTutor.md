# GitTutor

## 安装
[git下载地址](git-scm.com)

## 初始化配置
对所有本地仓库的用户信息进行配置

- 对你的commit操作设置关联的用户名
```
git config --global user.name "[name]"
```

- 对你的commit操作设置关联的邮箱地址
```
git config --global user.email "[email address]"
```

- 启用有帮助的彩色命令行输出
```
git config --global color.ui auto
```
## 新建仓库
- 在当前目录下创建仓库：
```
git init
```
- 在当前目录下克隆仓库：
```
git clone "仓库链接地址"
```
## 工作区域
- 工作区：.git所在的目录
- 暂存区：.git/index
- 本地仓库：.git/objects<br>

当前仓库状态:
```
git status
```
文件状态分为：
- Untrack
- Unmodified
- Modified
- Staged

## 添加和提交文件
工作区文件添加到暂存区：
```
git add
```
暂存区文件提交到本地仓库, 使用 -m 选项指定提交信息:
```
git commit -m "提交信息"
```
如果不使用 -m 选项指定提交信息，
Git 会打开默认的文本编辑器（通常是 Vim 或者 Nano），
让你输入提交信息。<br>
如果你想将 Vim 设置为默认的文本编辑器，可以在终端中执行以下命令：
```
git config --global core.editor "vim"
```
查看提交信息：
```
git log
```
如果使用 --oneline 选项可以查看更为简单的信息： 
```
git log --oneline
```
## 回溯版本
- 回溯到某一版本并保留工作区和暂存区的修改内容：
```
git reset --soft "版本号"
```

- 回溯到某一版本并丢弃工作区和暂存区的修改内容：
```
git reset --hard "版本号"
```

- 回溯到某一版本只保留工作区的修改内容：
```
git reset --mixed "版本号"
```
- 列出当前 Git 仓库中所有被跟踪的文件：
```
git ls-files
```
## 查看差异
- 查看工作区和暂存区之间的差异
```
git diff 
```
- 查看工作区和版本库之间的差异
```
git diff HARD
```
- 查看暂存区和版本库之间的差异
```
git diff --cached
```
- 查看不同版本之间的差异
```
git diff "版本号" "版本号"
```
- 查看上一版本和当前版本之间的差异
```
git diff HARD~ HARD
```
- 查看不同分支之间的差异
```
git diff "分支" "分支"
```
## 删除文件
- 把文件从工作区和暂存区中删除
```
git rm "文件名"
```
## 忽略文件
应该忽略的文件通常包含：
- 系统或软件自动生成的文件
- 编译产生的中间文件或结果文件
- 运行时生成的日志、缓存、临时文件
- 涉及身份、密码、口令、密钥等敏感信息文件<br>

匹配规则：
`*.log`：匹配所有以 .log 结尾的文件。
`build/`：匹配 build 目录及其下的所有文件和子目录。
`!error.log`：取消对 error.log 文件的忽略。
`/**/*.tmp`：匹配任意目录下的所有以 .tmp 结尾的文件。
`node_modules/`：忽略 node_modules 目录及其下的所有内容。

gitignore 模板：<https://github.com/github/gitignore>

## 远程仓库

github官方链接：<https://github.com/>

## SSH配置和克隆地址
1. 使用克隆命令在用户目录下生成 .ssh 目录文件：
```
git clone "ssh地址"
```
2. 使用以下一命令进入到 .ssh 目录：
```
cd ~/.ssh
```
3. 使用以一下命令生成 RSA 类型的 **SSH密钥对**，其中 "-b 4096" 指定了密钥长度为 4096 位。这意味着生成的密钥对将使用 RSA 加密算法，并且私钥和公钥的长度都将是 4096 位，这比一般默认的 2048 位更加安全。
```
ssh-keygen -t rsa -b 4096
```
*如果你执行这个命令，它会生成两个文件：一个是私钥文件（通常命名为 id_rsa），另一个是公钥文件（通常命名为 id_rsa.pub）。私钥文件保存在你的本地计算机上，而公钥文件则用于分发给需要信任你的服务器或系统。*

4. 在终端设置密码短语后，就会生成私钥和公钥文件。
<br>
5. 复制公钥文件的内容，把它配置到github。
<br>
1. 最后再一次执行以下命令即可将远程仓库克隆到本地：
```
git clone "ssh地址"
```

## 推送和拉取
- 从本地仓库推送到远程仓库：
```
git push 
```
- 从远程仓库拉取到本地仓库：
```
git pull
```
## 关联本地仓库和远程仓库
使用一下命令将已经存在的本地仓库关联到远程仓库：
```
git remote add origin git@github.com:OuYangLQ/Tutor.git
git branch -M main
git push -u origin main
```
## 分支管理
- 查看分支列表：
```
git branch
```
- 创建分支
```
git branch "branch-name"
```
- 切换分支
```
git switch "branch-name"
```
- 合并分支
```
git merge "branch-name"
```
- 删除分支  
已合并：`git branch -d "branch-name"`  
未合并：`git branch -D "branch-name"`  
## 合并冲突
- 两个分支未修改同一个文件的同一处位置：Git 自动合并 
- 两个分支修改了同一个文件的同一处位置：产生冲突 
- 解决方法：
1. 手工修改冲突文件，合并冲突内容 
2. 添加暂存区：`git add file` 
3. 提交修改：`git commit -m "message"` 
- 终止合并，当不想继续执行合并操作时可以使用下面的命令来终止合并过程： 
`git merge --abort` 
## 变基-rebase
Git 中的 "rebase" 是一种常用的操作，它可以用来将一系列提交（commit）应用到另一个分支上。具体来说，rebase 操作会将当前分支上的提交移动到另一个分支的末尾，从而使得当前分支的历史记录变得更加清晰、线性化：
```
git rebase <branch>
```
## Git 工作流模型
Gitflow 工作流是一种基于分支管理的工作流模型，它由 Vincent Driessen 在他的博客文章中提出，并得到了广泛的应用。Gitflow 工作流定义了一套严格的分支命名和管理规范，包括以下几个核心分支：

- 主分支（Master Branch）：主分支（master）是稳定的发布分支，存放了随时可以部署到生产环境的代码。所有的开发都从主分支进行，每次发布时，都会从开发分支合并到主分支，并打上版本标签。

- 开发分支（Develop Branch）：开发分支（develop）是主要的开发分支，包含了最新的开发代码。所有的功能开发都从开发分支进行，而不直接从主分支进行。当开发分支的代码稳定并准备好发布时，会合并到主分支中。

- 功能分支（Feature Branch）：功能分支（feature）用于开发单个功能或任务，从开发分支拉取并最终合并回开发分支。每个功能分支都应该从最新的开发分支进行创建，并且命名规范为 "feature/<功能名>"。

- 发布分支（Release Branch）：发布分支（release）用于准备发布新版本。在发布分支上进行一些小的修改和修复，并进行版本号的更新。一旦发布分支准备好发布，它会合并回主分支和开发分支，并打上发布标签。

- 修复分支（Hotfix Branch）：修复分支（hotfix）用于紧急修复生产环境中的问题。当出现问题时，从主分支创建一个修复分支，进行修复并将其合并回主分支和开发分支。

Gitflow 工作流的优点是清晰明了，各个分支的作用和生命周期清晰定义，适用于中大型团队和复杂项目的开发和发布。它能够有效地管理长期发布周期和多个版本，并且能够提供可靠的版本控制和代码质量保证。不过，Gitflow 也有一定的复杂性，需要团队成员熟悉并严格遵循分支管理规范。

GitHub Flow 是一种轻量级的、基于分支的工作流模型，专门用于在 GitHub 上进行协作和代码开发。它基于几个简单的原则，使得团队可以快速、灵活地进行软件开发和发布。GitHub Flow 的核心概念包括：

- 主分支（Main Branch）：GitHub Flow 将主分支命名为 "main"，所有的开发都从该分支开始。主分支应该始终处于稳定状态，并且可以随时发布到生产环境。

- 功能分支（Feature Branch）：每个功能或任务都在自己的功能分支上进行开发。当需要添加新功能或解决问题时，团队成员创建一个新的功能分支，并从主分支拉取代码。

- 提交更改（Commit Changes）：在功能分支上进行开发时，团队成员可以多次提交更改，每次提交都应该是一个独立的、可测试的功能单元。

- 发起合并请求（Open Pull Request）：当功能开发完成后，团队成员通过 GitHub 发起一个合并请求，将功能分支的更改合并回主分支。

- 讨论和审查（Discuss and Review）：合并请求会经过团队成员的讨论和审查，可以在合并请求的页面中进行评论、提出建议，并对代码进行审查。

- 合并到主分支（Merge into Main Branch）：经过审查和测试之后，合并请求被批准并合并到主分支。这样，新的功能就被集成到了主分支中，可以随时发布到生产环境。

- 部署到生产环境（Deploy to Production）：一旦代码被合并到主分支，团队可以随时将主分支的代码部署到生产环境，发布新功能。

GitHub Flow 的优点是简单、灵活、易于理解和实施，适用于小型团队和敏捷开发项目。它强调了持续交付和快速迭代的价值观，鼓励团队成员积极参与到软件开发的各个阶段中。


 
